{% extends 'base.html.twig' %}

{% block title %}Edit Recruitment Campaign{% endblock %}

{% block body %}
    <main class="content">
        <div class="container-fluid p-0">
            <div class="card">
                <div class="card-header">
                    <div class="d-flex justify-content-between align-items-center">
                        <div class="d-flex flex-column">
                            <h1 class="h3 mb-2">
                                <i class="align-middle me-2" data-feather="edit-2"></i>
                                Edit Recruitment Campaign
                            </h1>
                            <small class="text-muted">Modify the recruitment campaign details</small>
                        </div>

                    </div>
                </div>
                <a href="{{ path('app_recrutement_index') }}" class="btn btn-secondary">
                    <i class="align-middle me-2" data-feather="arrow-left"></i>
                    Back to List
                </a>

                <div class="card-body">
                    {{ include('recrutement/_form.html.twig', {'button_label': 'Update'}) }}

                    <div class="mt-5 border-top pt-4">
                        <div class="d-flex justify-content-between align-items-center">
                            <div class="text-muted small">
                                <i class="align-middle me-2" data-feather="info"></i>
                                Campaign ID: {{ recrutement.id }}
                            </div>
                            <div class="d-flex gap-3">
                                {{ include('recrutement/_delete_form.html.twig', {
                                    'button_attrs': {
                                        'class': 'btn btn-danger',
                                        'data-bs-toggle': 'tooltip',
                                        'title': 'Delete Campaign'
                                    },
                                    'button_label': '
                                    <i class="align-middle me-2" data-feather="trash-2"></i>
                                    Delete Campaign
                                '
                                }) }}
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>
{% endblock %}

{% block javascripts %}
    {{ parent() }}
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            // Initialize feather icons
            feather.replace({ 'aria-hidden': 'true' });

            // Initialize tooltips
            var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'))
            var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
                return new bootstrap.Tooltip(tooltipTriggerEl)
            });

            // Initialize date pickers if needed
            if(document.querySelector('.flatpickr-date')) {
                flatpickr('.flatpickr-date', {
                    enableTime: false,
                    dateFormat: "Y-m-d",
                    minDate: "today",
                    locale: "en",
                    disableMobile: true
                });
            }
        });
    </script>
{% endblock %}