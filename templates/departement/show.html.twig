{% extends 'base.html.twig' %}

{% block title %}D√©tails du D√©partement{% endblock %}

{% block body %}
    <style>
        .card {
            border-radius: 1rem;
            background: linear-gradient(145deg, #ffffff, #f3f3f3);
            box-shadow: 0 10px 25px rgba(0,0,0,0.07);
            transition: all 0.3s ease-in-out;
        }

        .card:hover {
            transform: translateY(-4px);
        }

        h1 {
            font-weight: 700;
            color: #333;
            text-shadow: 1px 1px 2px #f1f1f1;
        }

        table {
            background-color: #fff;
            border-radius: 0.5rem;
            overflow: hidden;
        }

        th {
            background-color: #f8f9fa;
            width: 35%;
            color: #495057;
            font-weight: 600;
        }

        td {
            color: #343a40;
        }

        .badge-budget {
            font-size: 0.85rem;
            font-weight: 600;
            padding: 0.4em 0.7em;
            border-radius: 0.5rem;
        }

        .budget-high {
            background-color: #d4edda;
            color: #155724;
        }

        .budget-medium {
            background-color: #fff3cd;
            color: #856404;
        }

        .budget-low {
            background-color: #f8d7da;
            color: #721c24;
        }

        .btn {
            transition: all 0.3s ease;
            border-radius: 0.5rem;
        }

        .btn:hover {
            transform: scale(1.05);
        }

        .avatar-icon {
            font-size: 1.3rem;
            margin-right: 0.5rem;
        }
    </style>

    <div class="container mt-4">
        <h1 class="mb-4">üóÇÔ∏è D√©tails du D√©partement</h1>

        <div class="card shadow-sm">
            <div class="card-body">
                <table class="table table-striped table-bordered">
                    <tbody>
                    <tr>
                        <th>ID</th>
                        <td>{{ departement.id }}</td>
                    </tr>
                    <tr>
                        <th>Nom</th>
                        <td>{{ departement.nom }}</td>
                    </tr>
                    <tr>
                        <th>Responsable</th>
                        <td><span class="avatar-icon">üßë‚Äçüíº</span> {{ departement.responsable.first_name }}</td>
                    </tr>
                    <tr>
                        <th>Budget</th>
                        <td>
                            {{ departement.Budget }}
                            <span class="badge-budget
                            {% if departement.Budget > 50000 %}
                                budget-high
                            {% elseif departement.Budget > 20000 %}
                                budget-medium
                            {% else %}
                                budget-low
                            {% endif %}
                        ">
                            {% if departement.Budget > 50000 %}
                                Excellent
                            {% elseif departement.Budget > 20000 %}
                                Moyen
                            {% else %}
                                Faible
                            {% endif %}
                        </span>
                        </td>
                    </tr>
                    <tr>
                        <th>Nombre d'employ√©s</th>
                        <td>{{ departement.NbEmploye }}</td>
                    </tr>
                    </tbody>
                </table>

                <div class="d-flex justify-content-between mt-4">
                    <a href="{{ path('app_departement_index') }}" class="btn btn-secondary">‚¨ÖÔ∏è Retour √† la liste</a>
                    <a href="{{ path('app_departement_edit', {'id': departement.id}) }}" class="btn btn-info">‚úèÔ∏è Modifier</a>
                </div>

                <form action="{{ path('app_departement_delete', {'id': departement.id}) }}" method="post" onsubmit="return confirm('√ätes-vous s√ªr de vouloir supprimer ce d√©partement ?');" class="mt-3">
                    <input type="hidden" name="_token" value="{{ csrf_token('delete' ~ departement.id) }}">
                    <button type="submit" class="btn btn-danger">üóëÔ∏è Supprimer</button>
                </form>
            </div>
        </div>
    </div>
{% endblock %}
