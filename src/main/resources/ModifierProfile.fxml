<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.Button?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>
<?import javafx.scene.text.Text?>
<?import javafx.scene.layout.HBox?>
<?import javafx.stage.FileChooser?>

<?import javafx.scene.layout.Region?>
<?import com.jfoenix.controls.JFXTextField?>
<AnchorPane prefHeight="500.0" prefWidth="700.0" xmlns="http://javafx.com/javafx/22" xmlns:fx="http://javafx.com/fxml/1" fx:controller="Controller.ModifierProfile">
    <children>
        <!-- Carte de modification du profil -->
        <VBox layoutX="50.0" layoutY="50.0" prefHeight="400.0" prefWidth="600.0" style="-fx-background-color: #FFFFFF; -fx-background-radius: 20; -fx-border-radius: 20; -fx-border-color: #CCCCCC; -fx-padding: 20; -fx-effect: dropshadow(three-pass-box, rgba(0, 0, 0, 0.2), 10, 0, 0, 5);">
            <children>
                <!-- Photo de profil avec un bouton de modification -->
                <HBox alignment="CENTER" spacing="10">
                    <ImageView fx:id="photoImageView" fitHeight="120.0" fitWidth="120.0" pickOnBounds="true" preserveRatio="true" style="-fx-background-radius: 50%;">
                        <image>
                            <Image url="images/user.png" /> <!-- Image par défaut -->
                        </image>
                    </ImageView>
                    <!-- Bouton pour changer la photo -->
                    <Button onAction="#handleChangePhoto" style="-fx-background-color: transparent; -fx-font-size: 24; -fx-text-fill: #4CAF50; -fx-border-width: 0;">
                        <graphic>
                            <ImageView fx:id="cameraIcon" fitHeight="30" fitWidth="30">
                                <image>
                                    <Image url="images/addphoto.png" /> <!-- Icône de caméra -->
                                </image>
                            </ImageView>
                        </graphic>
                    </Button>
                </HBox>

                <!-- Champs de modification -->
                <VBox spacing="20">
                    <!-- Nom -->
                    <Text text="Nom" style="-fx-font-size: 18; -fx-font-weight: bold;" />
                    <JFXTextField fx:id="nomField" promptText="Entrez votre nom" />

                    <!-- Prénom -->
                    <Text text="Prénom" style="-fx-font-size: 18; -fx-font-weight: bold;" />
                    <JFXTextField fx:id="prenomField" promptText="Entrez votre prénom" />

                    <!-- Email -->
                    <Text text="Email" style="-fx-font-size: 18; -fx-font-weight: bold;" />
                    <JFXTextField fx:id="emailField" promptText="Entrez votre email" />

                    <!-- Téléphone -->
                    <Text text="Téléphone" style="-fx-font-size: 18; -fx-font-weight: bold;" />
                    <JFXTextField fx:id="telephoneField" promptText="Entrez votre téléphone" />

                    <!-- Espacement entre les champs et les boutons -->
                    <Region />
                </VBox>

                <!-- Boutons -->
                <HBox spacing="20" layoutX="50.0" layoutY="420.0">
                    <Button text="Enregistrer" style="-fx-background-color: #4CAF50; -fx-text-fill: white; -fx-font-size: 16; -fx-background-radius: 10; -fx-padding: 8 15;" mnemonicParsing="false" fx:id="EnregistrerButton" onAction="#handleModifier" />
                    <Button text="Annuler" style="-fx-background-color: #FF4081; -fx-text-fill: white; -fx-font-size: 16; -fx-background-radius: 10; -fx-padding: 8 15;" mnemonicParsing="false" fx:id="AnnullerButton" onAction="#handleAnnuller"/>
                </HBox>
            </children>
        </VBox>
    </children>
</AnchorPane>
